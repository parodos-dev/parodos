version: "3"
services:
  notification-service:
    build:
      context: ../notification-service
      dockerfile: ./Dockerfile
    container_name: notification-service
    ports:
      - 9010:8080
    environment:
      - SPRING_PROFILES_ACTIVE=local

  workflow-service:
    build:
      context: ../
      dockerfile: ./workflow-service/Dockerfile
    container_name: workflow-service
    ports:
      - 9000:8080
    environment:
      - SPRING_PROFILES_ACTIVE=local
      - LOADER_PATH=./workflow-examples.jar
    depends_on:
      - notification-service